(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3196:function(){},1630:function(e,t,a){Promise.resolve().then(a.bind(a,7681))},7681:function(e,t,a){"use strict";a.d(t,{default:function(){return c}});var n=a(7573),r=a(7653),s=a(2359),i=a(7027),l=a(294);let o=a(4859).env.NEXT_PUBLIC_CONTRACT_ADDRESS||"0xYourDeployedContractAddressHere";function c(){let[e,t]=(0,r.useState)(""),[a,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[b,f]=(0,r.useState)(""),[g,w]=(0,r.useState)(""),p=async()=>{if(void 0!==window.ethereum)try{let e=await window.ethereum.request({method:"eth_requestAccounts"});w(e[0]),f("Wallet connected successfully!")}catch(e){f("Failed to connect wallet"),console.error(e)}else f("Please install MetaMask!")},N=async()=>{if(!e.trim()){f("Please enter a prompt");return}u(!0),f("Generating AI image...");try{let t=await fetch("/api/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})}),a=await t.json();t.ok?(c(a.imageUrl),f("Image generated successfully!")):f(a.error||"Failed to generate image")}catch(e){f("Failed to generate image"),console.error(e)}finally{u(!1)}},x=async()=>{if(!a){f("Please generate an image first");return}if(!g){f("Please connect your wallet first");return}h(!0),f("Minting NFT...");try{let t=await fetch("/api/store-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"AI Art: ".concat(e.slice(0,50),"..."),description:'AI-generated artwork created with prompt: "'.concat(e,'"'),imageUrl:a})}),n=await t.json();if(!t.ok)throw Error(n.error||"Failed to store metadata");let r=new s.Q(window.ethereum).getSigner(),l=new i.CH(o,["function mintNFT(address to, string memory uri) public returns (uint256)"],r),c=await l.mintNFT(g,n.tokenURI);await c.wait(),f("NFT minted successfully! Transaction: ".concat(c.hash))}catch(e){f("Failed to mint NFT"),console.error(e)}finally{h(!1)}};return(0,n.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8",children:[(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("button",{onClick:p,className:"btn w-full mb-4",disabled:!!g,children:g?"Connected: ".concat(g.slice(0,6),"...").concat(g.slice(-4)):"Connect Wallet"})}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Image Prompt"}),(0,n.jsx)("textarea",{id:"prompt",value:e,onChange:e=>t(e.target.value),placeholder:"Describe the image you want to generate...",className:"input h-24 resize-none",disabled:d})]}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("button",{onClick:N,className:"btn w-full",disabled:d||!e.trim(),children:d?"Generating...":"Generate AI Image"})}),a&&(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("div",{className:"relative w-full h-64 mb-4",children:(0,n.jsx)(l.default,{src:a,alt:"Generated AI artwork",fill:!0,className:"object-cover rounded-lg"})}),(0,n.jsx)("button",{onClick:x,className:"btn w-full",disabled:m||!g,children:m?"Minting NFT...":"Mint as NFT"})]}),b&&(0,n.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,n.jsx)("p",{className:"text-sm text-blue-800",children:b})})]})}}},function(e){e.O(0,[679,293,528,744],function(){return e(e.s=1630)}),_N_E=e.O()}]);