"use strict";(()=>{var e={};e.id=495,e.ids=[495],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5494:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>g,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d});var a={};r.r(a),r.d(a,{POST:()=>u});var i=r(3036),o=r(5736),n=r(5262),s=r(942);let p="sk-V8F2GnlrDpuC2tIGCb3Xwg32wfecWznXtMDLzKSWcMEvW20D";if(!p)throw Error("STABILITY_API_KEY is not defined");async function u(e){try{let{prompt:t}=await e.json();if(!t)return s.NextResponse.json({error:"Prompt is required"},{status:400});console.log("Generating image with prompt:",t);let r=await fetch("https://api.stability.ai/v1/generation/stable-diffusion-xl-1024-v1-0/text-to-image",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({text_prompts:[{text:t}],cfg_scale:7,height:1024,width:1024,steps:30,samples:1})});if(!r.ok){let e=await r.text();throw Error(`Stability AI API Error: ${e}`)}let a=await r.json(),i=`data:image/png;base64,${a.artifacts[0].base64}`;return s.NextResponse.json({imageUrl:i})}catch(t){console.error("Stability AI API error:",t);let e=t instanceof Error?t.message:"Failed to generate image";return s.NextResponse.json({error:e},{status:500})}}let g=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/generate-image/route",pathname:"/api/generate-image",filename:"route",bundlePath:"app/api/generate-image/route"},resolvedPagePath:"C:\\Users\\Mobb\\Downloads\\ai-nft-minter-main\\packages\\nextjs\\app\\api\\generate-image\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:c}=g,m="/api/generate-image/route";function h(){return(0,n.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[193,746],()=>r(5494));module.exports=a})();