"use strict";(()=>{var e={};e.id=473,e.ids=[473],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1575:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c});var r={};a.r(r),a.d(r,{POST:()=>u});var o=a(3036),s=a(5736),n=a(5262),i=a(942);let p=async e=>{let t=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.PINATA_JWT}`},body:JSON.stringify(e)});if(!t.ok)throw Error(`Pinata API error: ${t.statusText}`);return(await t.json()).IpfsHash};async function u(e){try{let{name:t,description:a,imageUrl:r}=await e.json();if(!t||!a||!r)return i.NextResponse.json({error:"Missing required fields"},{status:400});let o=await p({name:t,description:a,image:r,attributes:[{trait_type:"AI Generated",value:"true"},{trait_type:"Generator",value:"Stable Diffusion XL"}]}),s=`https://gateway.pinata.cloud/ipfs/${o}`;return i.NextResponse.json({tokenURI:s})}catch(e){return console.error("Metadata storage error:",e),i.NextResponse.json({error:"Failed to store metadata"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/store-metadata/route",pathname:"/api/store-metadata",filename:"route",bundlePath:"app/api/store-metadata/route"},resolvedPagePath:"C:\\Users\\Mobb\\Downloads\\ai-nft-minter-main\\packages\\nextjs\\app\\api\\store-metadata\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:m}=d,h="/api/store-metadata/route";function f(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:c})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[193,746],()=>a(1575));module.exports=r})();